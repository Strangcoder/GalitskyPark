<!DOCTYPE html>
<html>
 <head>
   <title>Park</title>
   <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1.0">
   <link rel="stylesheet" type="text/css" href="index_style.css">
   <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css">
 </head>
 <body>
   <div class="parent">
     <div class="main">
       <div class="title"><div class="box_title"><div class="block_img"><a href="index.html"><img src="image/icons8-colosseum-100.png" style="width:50px;height: 50px;"></a></div><p class="txt_main">Парк Галицкого</p></div><div class="pole_button">
        <div class="main_h"><a href="index.html"><p class="txt_title">Главная</p></a></div>
        <div class="location"><a href="site/location.html"><p class="txt_title">Локации</p></a></div><div class="info_park"><a href="site/info.html"><p class="txt_title">Информация</p></a></div><div class="how_path"><a href="#paths"><p class="txt_title">Как добраться</p></a></div></div></div>
       <div class="body_main">
         <div class="location_box">
           <div class="box_title2"><p class="txt_title1">Популярные места</p></div>
         </div>
         <div class="locl">
          <div class="slider">
            <div class="slides">
              <div class="slide"><img src="image/XXXL.jpg" alt="Место 1"><p>Инфинити</p></div>
              <div class="slide"><img src="image/XXXL(1).jpg" alt="Место 1"><p>Зеркальный лабиринт</p></div>
              <div class="slide"><img src="image/XXXL(2).jpg" alt="Место 1"><p>Исскуственная среда</p></div>
              <div class="slide"><img src="image/france1112.jpg" alt="Место 1"><p>Французский сад</p></div>
              <div class="slide"><img src="image/XXXL(4).jpg" alt="Место 1"><p>Внутрений ребенок</p></div>
              <div class="slide"><img src="image/XXXL(5).jpg" alt="Место 1"><p>Пирамида</p></div>
              <div class="slide"><img src="image/XXXL(6).jpg" alt="Место 1"><p>Музыкальный лабиринт</p></div>
              <div class="slide"><img src="image/XXXL(7).jpg" alt="Место 1"><p>Амфитеатр</p></div>
              <div class="slide"><img src="image/XXXL(8).jpg" alt="Место 1"><p>Водный лабиринт</p></div>
              <div class="slide"><img src="image/XXXL(9).jpg" alt="Место 1"><p>Стремительная река</p></div>
              <div class="slide"><img src="image/XXXL(10).jpg" alt="Место 1"><p>Японский сад</p></div>
            </div>
            <div class="slider-controls">
              <button class="prev">&#10094;</button>
              <button class="next">&#10095;</button>
            </div>
            <div class="slider-dots"></div>
          </div>
         </div>
         <div class="map_body">
           <div class="box_map_txt"><p class="txt_title1">Карта Парка</p></div>
           <div class="map"></div>
         </div>
         <div class="box_path"id="paths">
           <div class="path">
            <div class="box_title2">
              <p class="txt_title1">Как добраться</p>
            </div>
            <div class="pppp">
              <div style="position:relative;overflow:hidden;"><a href="https://yandex.ru/maps/org/park_krasnodar/77426465118/?utm_medium=mapframe&utm_source=maps" style="color:#eee;font-size:12px;position:absolute;top:0px;">Парк Краснодар</a><a href="https://yandex.ru/maps/35/krasnodar/category/park/184106346/?utm_medium=mapframe&utm_source=maps" style="color:#eee;font-size:12px;position:absolute;top:14px;">Парк культуры и отдыха в Краснодаре</a><a href="https://yandex.ru/maps/35/krasnodar/category/square/223334343586/?utm_medium=mapframe&utm_source=maps" style="color:#eee;font-size:12px;position:absolute;top:28px;">Сквер в Краснодаре</a><iframe src="https://yandex.ru/map-widget/v1/?ll=39.033452%2C45.040856&mode=search&oid=77426465118&ol=biz&z=15.97" width="100%" height="400" frameborder="1" allowfullscreen="true" style="position:relative;border-radius: 10px;"></iframe></div>
           </div>
           </div>
         </div>
       </div>
       <div class="footer">
        <div class="block_tit">
           <div class="logo">
             <div class="block_img"><a href="index.html"><img src="../image/icons8-colosseum-100.png" style="width:50px;height: 50px;"></a></div><p class="txt_main">Парк Галицкого</p>
           </div>
           <div class="mesto">
             <p class="txt_main" style="font-weight: bold;">Расположение</p>
             <p class="txt_title1">Россия, Краснодар,<br/> улица Разведчика Леонова, 1</p>
             <p class="txt_title1" style="font-weight: bold;">Часы работы</p>
             <p class="txt_title1">5:00 - 24:00</p>
           </div>
         </div>
         <div class="butt1">
           <div class="pole_button1">
          <div class="main_h"><a href="index.html"><p class="txt_title">Главная</p></a></div>
          <div class="location"><a href="site/location.html"><p class="txt_title">Локации</p></a></div><div class="info_park"><a href="site/info.html"><p class="txt_title">История парка</p></a></div><div class="how_path"><a href="#paths"><p class="txt_title">Как добраться</p></a></div></div>
         </div>
         <div class="block_soc">
           <div><p class="txt_title">© 2023 –  информационный сайт краснодарского парка Галицкого.<br/>
            Вся информация взята из открытых источников. <br/>Почта для связи — admin@galitskypark.ru</p></div>
            <div><p class="txt_title"style="font-weight: bold;">Контактная информация</p></div>
            <div><p class="txt_title">+7 (964)-910-15-70</p></div>
            <div><p class="txt_title">+7 (933)-170-15-70</p></div>
            <div><p class="txt_title">lordhaos42@gmail.com</p></div>
            <div><p class="txt_title">Политика конфидециальности</p></div>
            <div><p class="txt_title">Пользовательское соглашение</p></div>
         </div>
       </div>
     </div>
   </div>
   <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
   <script src="map.js"></script> <!-- Скрипт инициализации карты -->
  <script>
      // Получаем контейнер слайдов (движущийся блок)
      const slides = document.querySelector('.slides');

      // Получаем количество отдельных слайдов
      const slideCount = document.querySelectorAll('.slide').length;
      const dotsContainer = document.querySelector('.slider-dots');

// Создаём точки по количеству слайдов
      for (let i = 0; i < slideCount; i++) {
        const dot = document.createElement('span');
        dot.classList.add('dot');
        if (i === 0) dot.classList.add('active'); // первая точка активна
        dot.addEventListener('click', () => {
          currentIndex = i;
          updateSlider();
          restartAutoSlide();
          updateDots();
        });
        dotsContainer.appendChild(dot);
      }

      // Индекс текущего слайда (начинаем с 0)
      let currentIndex = 0;

      // Идентификатор интервала автопрокрутки
      let intervalId = null;

      // Обновляет положение слайдов (сдвигает контейнер)
      function updateSlider() {
        slides.style.transform = `translateX(-${currentIndex * 100}%)`;
        updateDots();
      }

      // Переключение на следующий слайд
      function nextSlide() {
        currentIndex = (currentIndex + 1) % slideCount; // переходит на 0 после последнего
        updateSlider(); // сдвигает ленту слайдов
      }

      // Переключение на предыдущий слайд
      function prevSlide() {
        currentIndex = (currentIndex - 1 + slideCount) % slideCount; // корректно уходит в конец, если index < 0
        updateSlider(); // сдвигает ленту слайдов
      }

      // Обработчик клика по кнопке "вперед"
      document.querySelector('.next').addEventListener('click', () => {
        nextSlide();        // переключаем слайд
        restartAutoSlide(); // перезапускаем автопрокрутку
      });

      // Обработчик клика по кнопке "назад"
      document.querySelector('.prev').addEventListener('click', () => {
        prevSlide();        // переключаем слайд назад
        restartAutoSlide(); // перезапускаем автопрокрутку
      });

      // Запускает автопрокрутку слайдов
      function startAutoSlide() {
        intervalId = setInterval(nextSlide, 5000); // каждые 5 секунд
      }

      // Перезапускает автопрокрутку (используется после ручного переключения)
      function restartAutoSlide() {
        clearInterval(intervalId); // останавливаем текущий интервал
        startAutoSlide();          // запускаем новый
      }
      function updateDots() {
      const dots = document.querySelectorAll('.dot');
      dots.forEach((dot, index) => {
        dot.classList.toggle('active', index === currentIndex);
      });
    }

      // Инициализация автопрокрутки при загрузке
      startAutoSlide();
  </script>
 </body>
</html>